(()=>{"use strict";function t(t){return null!=t}var e;!function(t){t[t.IDLE=0]="IDLE",t[t.RUNNING=1]="RUNNING",t[t.STOPPED=2]="STOPPED"}(e||(e={}));var s,i,a=function(t,e,s,i){if("a"===s&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?i:"a"===s?i.call(t):i?i.value:e.get(t)},r=function(t,e,s,i,a){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?a.call(t,s):a?a.value=s:e.set(t,s),s};function n(t,e){return[Math.trunc(t/e),t%e]}function h(t){const[e,s]=n(t,1e3),[i,a]=n(e,60),[r,h]=n(i,60);return`${r.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${s.toString().padStart(3,"0")}`}s=new WeakMap,i=new WeakMap;var o,c,l,f,u,m,w,d,p,v,y,E,T,N,S,P,g=function(t,e,s,i,a){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?a.call(t,s):a?a.value=s:e.set(t,s),s},D=function(t,e,s,i){if("a"===s&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?i:"a"===s?i.call(t):i?i.value:e.get(t)};c=new WeakMap,l=new WeakMap,f=new WeakMap,u=new WeakMap,m=new WeakMap,w=new WeakMap,d=new WeakMap,o=new WeakSet,p=function(){D(this,l,"f").textContent=h(D(this,c,"f").getTime())},v=function(){g(this,w,function(t){const e={id:0},s=()=>{e.id=requestAnimationFrame((()=>{t(),s()}))};return s(),()=>{cancelAnimationFrame(e.id)}}((()=>{D(this,o,"m",p).call(this)})),"f"),D(this,c,"f").start(),D(this,o,"m",p).call(this),D(this,o,"m",N).call(this)},y=function(){D(this,w,"f")?.call(this),D(this,c,"f").stop(),D(this,o,"m",p).call(this),D(this,o,"m",N).call(this)},E=function(){D(this,c,"f").reset(),D(this,c,"f").status!==e.RUNNING&&D(this,o,"m",p).call(this),D(this,o,"m",N).call(this),D(this,o,"m",P).call(this)},T=function(){D(this,c,"f").save(),D(this,o,"m",P).call(this)},N=function(){switch(D(this,c,"f").status){case e.IDLE:return D(this,o,"m",S).call(this,"start",!0),D(this,o,"m",S).call(this,"stop",!1),D(this,o,"m",S).call(this,"reset",!1),void D(this,o,"m",S).call(this,"save",!1);case e.RUNNING:return D(this,o,"m",S).call(this,"start",!1),D(this,o,"m",S).call(this,"stop",!0),D(this,o,"m",S).call(this,"reset",!0),void D(this,o,"m",S).call(this,"save",!0);case e.STOPPED:return D(this,o,"m",S).call(this,"start",!0),D(this,o,"m",S).call(this,"stop",!1),D(this,o,"m",S).call(this,"reset",!0),void D(this,o,"m",S).call(this,"save",!1)}},S=function(t,e){const s=D(this,m,"f").get(t);s&&(s.disabled=!e)},P=function(){D(this,u,"f").innerHTML="",D(this,u,"f").appendChild(D(this,c,"f").history.reduce(((t,e)=>{const s=document.createElement("li");return s.textContent=h(e),t.appendChild(s),t}),document.createDocumentFragment()))};const b=new class{constructor(){s.set(this,null),i.set(this,null),this.history=[]}get status(){return t(a(this,s,"f"))&&t(a(this,i,"f"))?e.STOPPED:t(a(this,s,"f"))?e.RUNNING:e.IDLE}start(){r(this,s,Date.now(),"f"),r(this,i,null,"f")}stop(){r(this,i,Date.now(),"f")}reset(){this.status===e.RUNNING?r(this,s,Date.now(),"f"):this.status===e.STOPPED&&(r(this,s,null,"f"),r(this,i,null,"f")),this.history=[]}save(){this.history.push(this.getTime())}getTime(){return t(a(this,s,"f"))?(t(a(this,i,"f"))?a(this,i,"f"):Date.now())-a(this,s,"f"):0}},k=document.querySelector(".stopwatch-display"),M=document.querySelector(".stopwatch-actions"),I=document.querySelector(".stopwatch-history"),W=new class{constructor(t,e,s,i){o.add(this),c.set(this,void 0),l.set(this,void 0),f.set(this,void 0),u.set(this,void 0),m.set(this,void 0),w.set(this,null),d.set(this,(t=>{const e=t.target.closest("button");if(e)switch(e.name){case"start":return D(this,o,"m",v).call(this);case"stop":return D(this,o,"m",y).call(this);case"reset":return D(this,o,"m",E).call(this);case"save":return D(this,o,"m",T).call(this)}})),g(this,c,t,"f"),g(this,l,e,"f"),g(this,f,s,"f"),g(this,u,i,"f"),g(this,m,new Map,"f");for(const t of s.querySelectorAll("button"))D(this,m,"f").set(t.name,t)}init(){D(this,o,"m",p).call(this),D(this,o,"m",N).call(this),D(this,f,"f").addEventListener("click",D(this,d,"f"))}destroy(){D(this,f,"f").removeEventListener("click",D(this,d,"f"))}}(b,k,M,I);W.init()})();
//# sourceMappingURL=main.3b762095e2970187d363.js.map